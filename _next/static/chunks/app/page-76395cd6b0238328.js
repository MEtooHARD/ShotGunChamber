(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2801:(e,t,s)=>{Promise.resolve().then(s.bind(s,479))},479:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var n=s(7437),l=s(2265);function r(e){let{name:t,url:s,title:l=""}=e;return(0,n.jsxs)("p",{className:"flex",children:[l&&(0,n.jsx)("span",{className:"mr-1 text-gray-400",children:l}),(0,n.jsx)("a",{className:"flex",href:s,target:"_blank",children:t})]})}let i=function(){for(var e,t,s=0,n="",l=arguments.length;s<l;s++)(e=arguments[s])&&(t=function e(t){var s,n,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t){if(Array.isArray(t)){var r=t.length;for(s=0;s<r;s++)t[s]&&(n=e(t[s]))&&(l&&(l+=" "),l+=n)}else for(n in t)t[n]&&(l&&(l+=" "),l+=n)}return l}(e))&&(n&&(n+=" "),n+=t);return n};function o(e){let{onCLick:t,display:s,enabled:l}=e;return(0,n.jsx)("div",{className:i("flex","flex-1","justify-center","items-center","font-medium text-3xl","".concat(l?"border-black":"border-disabled"),"border-2","".concat(l?"text-black":"text-disabled"),"w-full m-2 aspect-square","rounded-md","select-none cursor-pointer","".concat(l?"transform duration-75 hover:scale-105 active:scale-95":"")),onClick:t,children:s})}function a(e){let{num:t,setNum:s,title:l,L:r,R:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex flex-1 flex-row flex-wrap justify-center   border-black   border-2 p-1 m-2 min-w-40 max-w-60   aspect-video rounded-2xl",children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-full",children:[l&&(0,n.jsx)("p",{className:"flex font-bold text-xl text-center",children:l}),(0,n.jsxs)("div",{className:"flex justify-around w-full h-full items-center",children:[(0,n.jsx)(o,{display:"-1",enabled:r,onCLick:()=>{r&&s(e=>e-1)}}),(0,n.jsx)("div",{className:"flex justify-center   text-4xl font-bold   m-2 w-3   select-none",children:t}),(0,n.jsx)(o,{display:"+1",enabled:i,onCLick:()=>{i&&s(e=>e+1)}})]})]})})})}function c(e){let{children:t}=e;return(0,n.jsx)("p",{className:"text-gray-400 font-bold text-3xl select-none",children:t})}function x(){let e=w(),t=e.rounds.lives,s=e.rounds.blanks,l=t+s,i=e.set.Lives,o=e.set.Blanks;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{children:"Rounds Counter"}),(0,n.jsxs)(c,{children:["For ",(0,n.jsx)("a",{className:"text-gray-500",target:"_blank",href:"https://store.steampowered.com/app/2835570/Buckshot_Roulette/",children:"Buckshot Roulette"})]}),(0,n.jsx)(c,{children:"(Beta)"}),(0,n.jsx)("div",{className:"m-4"}),(0,n.jsxs)("div",{className:"flex flex-wrap justify-center items-center   w-full",children:[(0,n.jsx)(a,{title:"Live Rounds",num:t,setNum:i,L:t>1,R:t<10&&l<10}),(0,n.jsx)(a,{title:"Blank Rounds",num:s,setNum:o,L:s>1,R:s<10&&l<10})]}),(0,n.jsx)("div",{className:"m-4"}),(0,n.jsxs)("div",{className:"flex text-gray-400 text-opacity-70 font-bold text-4xl items-center select-none",children:["Made by ",(0,n.jsxs)("div",{className:"flex flex-col text-gray-500 text-2xl",children:[(0,n.jsx)(r,{name:"MetooHARD",url:"https://github.com/metoohard",title:""}),(0,n.jsx)(r,{name:"ToiletKing",url:"https://github.com/benjounoou",title:""})]})]})]})}function d(e){let{title:t,value:s}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center text-center   border-2 border-black rounded-lg   py-1 px-3 h-full   font-bold",children:[(0,n.jsx)("p",{className:"text-xl select-none",children:t}),(0,n.jsx)("p",{className:i("text-2xl select-none","".concat(0>Number(s)?"text-red-500":"")),children:s})]})})}class u{set type(e){this._type=e}get type(){return this._type}constructor(){this._type=u.Type.Unknown}}!function(e){var t;(t=e.Type||(e.Type={}))[t.Blank=0]="Blank",t[t.Live=1]="Live",t[t.Unknown=2]="Unknown"}(u||(u={}));class f{shots_of(e){return this._shots.reduce((t,s)=>t+=s.type==e?1:0,0)}get live(){return this._live}get blank(){return this._blank}get known_live(){return this.shots_of(u.Type.Live)}get known_blank(){return this.shots_of(u.Type.Blank)}get unknown_live(){return this._live-this.known_live}get unknown_blank(){return this._blank-this.known_blank}get unknown_shots(){return this.shots_of(u.Type.Unknown)}next_live_chance(e){return e<this.live+this.blank-1?this._shots[e+1].type===u.Type.Unknown?this.unknown_shots>0?this.unknown_live/this.unknown_shots:0:this._shots[e+1].type===u.Type.Live?1:0:0}get shots(){return this._shots}shot(e){return this._shots[e]}constructor(e,t,s){this._shots=e,this._live=t,this._blank=s}}let h={[u.Type.Unknown]:"bg-gradient-to-br from-45% from-gray-600 to-gray-900",[u.Type.Live]:"bg-gradient-to-br from-45% from-red-600 to-red-900",[u.Type.Blank]:"bg-gradient-to-br from-45% from-blue-600 to-blue-900"},m={[u.Type.Unknown]:u.Type.Live,[u.Type.Live]:u.Type.Blank,[u.Type.Blank]:u.Type.Unknown};function v(e){let{type:t,setType:s,i:l,highlight:r=!1}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:i("flex justify-center items-center select-none","w-16 max-w-16 min-w-8 aspect-[3/5] m-1 rounded-sm","".concat(r?"text-black":"text-[#707070]"),"font-extrabold text-6xl","".concat(h[t]),"cursor-pointer transform duration-75 hover:scale-105 active:scale-95"),onClick:()=>s(m[t]),children:l+1})})}function j(e){let{live:t,blank:s,title:l}=e;return(0,n.jsxs)("div",{className:"flex flex-col justify-around   aspect-video m-1 border-2 min-w-48 max-w-64  basis-5/12   rounded-xl    border-black",children:[(0,n.jsx)("p",{className:"flex justify-center items-center font-bold text-2xl select-none",children:l}),(0,n.jsx)("div",{className:"flex w-full",children:[0,1].map(e=>(0,n.jsx)("div",{className:"flex-1 w-full m-1",children:(0,n.jsx)(d,{title:["Live","Blank"][e],value:[t,s][e]})},e))})]})}let p=e=>(Math.round(1e4*e)/100).toFixed(2),b=(e,t)=>(e+t)%t;function k(){let e=w(),[t,s]=(0,l.useState)(Array.from({length:e.rounds.lives+e.rounds.blanks},()=>new u)),[r,i]=(0,l.useState)(0),o=e.rounds.lives+e.rounds.blanks,a=new f(t,e.rounds.lives,e.rounds.blanks),c=(e,n)=>{let l=[...t];l[e].type=n,s(l)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center   w-full my-1",children:[(0,n.jsxs)("div",{className:"flex flex-wrap justify-center w-full",children:[(0,n.jsx)(j,{live:a.live,blank:a.blank,title:"Initial"}),(0,n.jsx)(j,{live:a.unknown_live,blank:a.unknown_blank,title:"Unkown"})]}),(0,n.jsxs)("div",{className:"flex m-1 h-20 items-center",children:[(0,n.jsx)("svg",{className:"h-14 aspect-square cursor-pointer transform duration-75 hover:scale-110 active:scale-95",onClick:()=>{i(e=>b(e-1,o))},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("polygon",{fillRule:"evenodd",points:"9.414 12 16.707 19.293 15.293 20.707 6.586 12 15.293 3.293 16.707 4.707"})}),(0,n.jsx)(d,{title:"Next Live",value:"".concat(p(a.next_live_chance(r))," %")}),(0,n.jsx)("svg",{className:"h-14 aspect-square cursor-pointer transform duration-75 hover:scale-110 active:scale-95",onClick:()=>{i(e=>b(e+1,o))},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("polygon",{fillRule:"evenodd",points:"14.586 12 7.293 4.707 8.707 3.293 17.414 12 8.707 20.707 7.293 19.293"})})]})]}),(0,n.jsx)("div",{className:"flex flex-wrap justify-around items-center   border-2 border-black   rounded-2xl   w-[95%] my-1 p-2 max-w-[72rem]",children:a.shots.map((e,t)=>(0,n.jsx)(v,{highlight:t===r,i:t,type:e.type,setType:e=>{c(t,e)}},t))})]})}let y=(0,l.createContext)(void 0),w=()=>{let e=(0,l.useContext)(y);if(!e)throw Error("couldn't get round data");return e};function g(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(2),[o,a]=(0,l.useState)(2),c=(0,l.useMemo)(()=>({lives:s,blanks:o}),[s,o]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col w-screen h-screen",children:[(0,n.jsx)("div",{className:"flex flex-col justify-center items-center w-full h-full overflow-auto pb-2 pt-24",children:(0,n.jsx)(y.Provider,{value:{rounds:c,set:{Lives:r,Blanks:a}},children:e?(0,n.jsx)(k,{}):(0,n.jsx)(x,{})})}),(0,n.jsx)("div",{className:"h-12"})]}),(0,n.jsxs)("div",{className:"fixed bottom-0 left-0 w-full h-12 flex",children:[(0,n.jsx)("div",{className:i("flex-1 flex items-center justify-center","bg-green-400","select-none","text-2xl","".concat(e?"text-disabled":"text-black"),"font-bold","h-full"),onClick:()=>{t(!0)},children:"Start"}),(0,n.jsx)("div",{className:i("flex-1 flex items-center justify-center","bg-black","select-none","text-2xl","".concat(e?"text-green-400":"text-disabled"),"font-bold","h-full"),onClick:()=>{t(!1),r(2),a(2)},children:"Reset"})]})]})}function _(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(g,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(2801)),_N_E=e.O()}]);